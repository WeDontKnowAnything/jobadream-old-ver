<script lang="ts" setup>
import { storeToRefs } from 'pinia'
import { useBoardStore } from '@/stores/boardStore'

const boardStore = useBoardStore()
const { newPost } = storeToRefs(boardStore)
const router = useRouter()

const savePost = () => {
  boardStore.addPost()
  router.go(-1)
}

const resetPost = () => {
  router.go(-1)
}
</script>

<template>
  <VRow>
    <VCol
      cols="12"
      md="7"
    >
      <VCard>
        <VCardText>
          <AppTextField
            v-model="newPost.title"
            label="ì œëª©"
          />
        </VCardText>
        <VCardText>
          <AppTextarea
            v-model="newPost.content"
            label="ë‚´ìš©"
            placeholder="ë‚´ìš©ì„ 'ìž¡ì–´ë“œë¦¼'"
            auto-grow
          />
        </VCardText>
      </VCard>
    </VCol>
    <VCol
      cols="12"
      md="5"
    >
      <VCard class="mb-6">
        <VDivider />
        <VCardText>
          <VRow>
            <VCol cols="6">
              <!-- ðŸ‘‰ ê²Œì‹œê¸€ ì €ìž¥ -->
              <VBtn
                block
                prepend-icon="tabler-send"
                @click="savePost"
              >
                ê²Œì‹œê¸€ ì €ìž¥
              </VBtn>
            </VCol>

            <VCol cols="6">
              <!-- ðŸ‘‰ ì´ˆê¸°í™” -->
              <VBtn
                block
                color="default"
                variant="tonal"
                @click="resetPost"
              >
                ì·¨ì†Œ
              </VBtn>
            </VCol>
          </VRow>
        </VCardtext>
      </VCard>
    </VCol>
  </VRow>
</template>
